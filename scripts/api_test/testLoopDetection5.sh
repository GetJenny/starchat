#!/usr/bin/env bash

ANALYZER=${1:-"and(keyword(\\\"hello\\\"))"}
QUERY=${2:-"hello"}
PORT=${3:-8888}
INDEX_NAME=${4:-index_getjenny_english_0}
ALGORITHM=${5:-AUTO}

curl -H "Authorization: Basic $(echo -n 'admin:adminp4ssw0rd' | base64)" \
  -H "Content-Type: application/json" -X POST "http://localhost:${PORT}/${INDEX_NAME}/analyzer/playground" -d "
{
        \"stateName\": \"hello\",
        \"analyzer\": \"${ANALYZER}\",
        \"query\": \"${QUERY}\",
        \"data\": {
                \"traversedStates\": [{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014264100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014264200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014264300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014264400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014264500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014264600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014264700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014264800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014264900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014265000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014265100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014265200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014265300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014265400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014265500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014265600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014265700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014265800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014265900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014266000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014266100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014266200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014266300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014266400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014266500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014266600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014266700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014266800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014266900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014267000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014267100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014267200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014267300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014267400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014267500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014267600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014267700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014267800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014267900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014268000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014268100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014268200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014268300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014268400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014268500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014268600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014268700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014268800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014268900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014269000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014269100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014269200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014269300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014269400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014269500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014269600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014269700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014269800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014269900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014270000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014270100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014270200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014270300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014270400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014270500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014270600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014270700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014270800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014270900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014271000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014271100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014271200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014271300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014271400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014271500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014271600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014271700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014271800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014271900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014272000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014272100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014272200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014272300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014272400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014272500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014272600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014272700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014272800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014272900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014273000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014273100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014273200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014273300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014273400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014273500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014273600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014273700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014273800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014273900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014274000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014274100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014274200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014274300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014274400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014274500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014274600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014274700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014274800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014274900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014275000,\"type\":\"EXTERNAL\"},{\"state\":\"hello1\",\"timestamp\":1610014275100,\"type\":\"EXTERNAL\"},{\"state\":\"hello2\",\"timestamp\":1610014275200,\"type\":\"EXTERNAL\"},{\"state\":\"hello3\",\"timestamp\":1610014275300,\"type\":\"EXTERNAL\"},{\"state\":\"hello4\",\"timestamp\":1610014275400,\"type\":\"EXTERNAL\"},{\"state\":\"hello5\",\"timestamp\":1610014275500,\"type\":\"EXTERNAL\"},{\"state\":\"hello6\",\"timestamp\":1610014275600,\"type\":\"EXTERNAL\"},{\"state\":\"hello7\",\"timestamp\":1610014275700,\"type\":\"EXTERNAL\"},{\"state\":\"hello8\",\"timestamp\":1610014275800,\"type\":\"EXTERNAL\"},{\"state\":\"hello9\",\"timestamp\":1610014275900,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014276000,\"type\":\"EXTERNAL\"}],
                \"extractedVariables\":{}
        },
        \"searchAlgorithm\": \"${ALGORITHM}\"
}
"

