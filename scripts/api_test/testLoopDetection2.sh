#!/usr/bin/env bash

ANALYZER=${1:-"and(keyword(\\\"hello\\\"))"}
QUERY=${2:-"hello"}
PORT=${3:-8888}
INDEX_NAME=${4:-index_getjenny_english_0}
ALGORITHM=${5:-AUTO}

curl -H "Authorization: Basic $(echo -n 'admin:adminp4ssw0rd' | base64)" \
  -H "Content-Type: application/json" -X POST "http://localhost:${PORT}/${INDEX_NAME}/analyzer/playground" -d "
{
        \"stateName\": \"hello\",
        \"analyzer\": \"${ANALYZER}\",
        \"query\": \"${QUERY}\",
        \"data\": {
                \"traversedStates\": [{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"},{\"state\":\"hello0\",\"timestamp\":1610014264000,\"type\":\"EXTERNAL\"}],
                \"extractedVariables\":{}
        },
        \"searchAlgorithm\": \"${ALGORITHM}\"
}
"

